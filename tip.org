#+AUTHOR: Saisimon

* 小技巧
** Windows
*** 右键添加命令提示符(CMD)
    1. Win + R 运行 regedit
    2. 找到 计算机 > HKEY_CLASSES_ROOT > Folder > shell
    3. 右键shell 新建 -> 项 -> 命令提示符
    4. 右键命令提示符 新建 -> 项 -> command
    5. 点击(默认)项 输入 C:\Windows\System32\cmd.exe /k cd "%1" 确认
*** 修改 XShell Alt 键作为 Meta 键, Backspace 键作为删除键
    1. 打开XShell 选择 文件 -> 属性
    2. 选择 终端 -> 键盘
    3. 选中 将 Alt 用作 Meta 键
    4. BACKSPACE 键序列 中选择 ASCII 127 确认

** Linux
*** 查看 linux 内存占用
    1. 使用 [[http://man.linuxde.net/top][top]] 命令来查看各个进程的使用情况
    2. 按 Shift + m ,即 M 按内存占用率排序
*** linux 解压 ([[http://man.linuxde.net/tar][tar]] 命令、[[http://man.linuxde.net/unzip][unzip]] 命令)
    #+BEGIN_SRC
      $ tar -xf *.tar
      $ tar -xzf *.tar.gz
      $ tar -xcf *.tar.bz2
      $ tar -xZf *.tar.Z
      $ unzip *.zip
    #+END_SRC
*** linux 下 nginx 安装、启动、重启、停止
    安装
    #+BEGIN_SRC 
      tar -xzf nginx-${version}.tar.gz
      cd nginx-${version}
      yum install -y pcre-devel openssl-devel
      ./configure 
      make
      make install
    #+END_SRC
    nginx 默认安装路径 
    #+BEGIN_SRC 
      /usr/local/nginx
    #+END_SRC
    启动 
    #+BEGIN_SRC 
      ${nginx_path}/sbin/nginx
    #+END_SRC
    启动指定配置文件 
    #+BEGIN_SRC 
      ${nginx_path}/sbin/nginx -c ${conf_path}
    #+END_SRC
    重启 
    #+BEGIN_SRC 
      ${nginx_path}/sbin/nginx -s reload
    #+END_SRC
    停止 
    #+BEGIN_SRC 
      ${nginx_path}/sbin/nginx -s stop
    #+END_SRC
*** nginx 反向代理配置
    在 http-server-location / 下填写反向代理配置
    #+BEGIN_SRC
      proxy_pass http://localhost:8080;
      proxy_set_header Host $host;
      proxy_set_header X-Real-IP $remote_addr;
      proxy_set_header X-Forwarded-For $proxy_add_x_forwarded_for;
    #+END_SRC

** Database
*** Mysql
**** 查询 Mysql 数据库大小
    - 选择指定 [[http://dev.mysql.com/doc/refman/5.7/en/tables-table.html][information_schema 数据库]]
      #+BEGIN_SRC sql
            use information_schema;
      #+END_SRC
    - 查询整个数据库大小
      #+BEGIN_SRC sql
            select concat(round(sum(DATA_LENGTH/1024/1024),2),'MB') as data from TABLES;
      #+END_SRC
    - 查询指定数据库大小
      #+BEGIN_SRC sql
            select concat(round(sum(DATA_LENGTH/1024/1024),2),'MB') as data from TABLES where table_schema='your_database_name';
      #+END_SRC
    - 查询指定数据库下某个表的大小
      #+BEGIN_SRC sql
            select concat(round(sum(DATA_LENGTH/1024/1024),2),'MB') as data from TABLES where table_schema='your_database_name' and table_name='your_table_name';
      #+END_SRC
**** Mysql 数据库存中文字符乱码解决方法
    - 修改 [[http://dev.mysql.com/doc/connector-j/5.1/en/connector-j-reference-configuration-properties.html][jdbc.url 配置]]
      #+BEGIN_SRC 
            jdbc.url=jdbc:mysql://ip-address:port/your_database_name?useUnicode=true&characterEncoding=utf8
      #+END_SRC
**** Mysql 新增用户, 并附指定权限
    - [[http://dev.mysql.com/doc/refman/5.7/en/adding-users.html][新增用户]]
      #+BEGIN_SRC sql
            create user ['username']@['localhost'] identified by ['password'];
      #+END_SRC
    - [[http://dev.mysql.com/doc/refman/5.7/en/adding-users.html][附指定权限]]
      #+BEGIN_SRC sql
            grant all privileges on [database].[table] to ['username']@['localhost'];
      #+END_SRC
    - [[http://dev.mysql.com/doc/refman/5.7/en/removing-users.html][删除用户]]
      #+BEGIN_SRC sql
            drop user ['username']@['localhost'];
      #+END_SRC

** Java
*** Web
**** 前端页面传中文字符乱码解决方法
    - 修改 [[https://docs.oracle.com/cd/E14571_01/web.1111/e13712/web_xml.htm#WBAPP515][web.xml]] 文件, 添加 [[http://docs.spring.io/spring/docs/4.3.0.BUILD-SNAPSHOT/javadoc-api/org/springframework/web/filter/CharacterEncodingFilter.html][CharacterEncodingFilter]] 
      #+BEGIN_SRC xml
          <filter>
              <filter-name>CharacterEncodingFilter</filter-name>
              <filter-class>org.springframework.web.filter.CharacterEncodingFilter</filter-class>
              <init-param>
                  <param-name>encoding</param-name>
                  <param-value>UTF-8</param-value>
              </init-param>
              <init-param>
                  <param-name>forceEncoding</param-name>
                  <param-value>true</param-value>
              </init-param>
          </filter>

          <filter-mapping>
                <filter-name>CharacterEncodingFilter</filter-name>
                <url-pattern>/*</url-pattern>
          </filter-mapping>
      #+END_SRC
    - filter 需要放在所有 filter 的前面才会生效
*** Maven
**** Maven 基本操作
    - 创建Maven的普通java项目
      #+BEGIN_SRC 
        $ mvn archetype:create -DgroupId=[packageName] -DartifactId=[projectName]
      #+END_SRC
    - 创建Maven的Web项目
      #+BEGIN_SRC 
        $ mvn archetype:create -DgroupId=[packageName] -DartifactId=[webappName] -DarchetypeArtfactId=maven-archetype-webapp
      #+END_SRC
    - 编译源码
      #+BEGIN_SRC 
        $ mvn compile
      #+END_SRC
    - 打包
      #+BEGIN_SRC 
        $ mvn package
      #+END_SRC
    - 在本地Repository中安装jar
      #+BEGIN_SRC 
        $ mvn install
      #+END_SRC
    - 清理项目
      #+BEGIN_SRC 
        $ mvn clean
      #+END_SRC
    - 生成eclipse/idea项目
      #+BEGIN_SRC 
        $ mvn eclipse:eclipse
        $ mvn idea:idea
      #+END_SRC
    - 生成站点信息
      #+BEGIN_SRC 
        $ mvn site
      #+END_SRC
**** Maven 跳单元测试
    - 跳过单元测试
      #+BEGIN_SRC 
        $ mvn install -Dmaven.test.skip=true
      #+END_SRC
**** Maven指定编译版本
    - 添加编译插件
      #+BEGIN_SRC xml
      <build>
        <plugins>
          <plugin>
            <groupId>org.apache.maven.plugins</groupId>
            <artifactId>maven-compiler-plugin</artifactId>
            <version>3.5.1</version>
            <configuration>  
              <source>1.X</source>  
              <target>1.X</target>  
              <encoding>UTF-8</encoding>  
            </configuration>  
          </plugin>
        </plugins>
      </build> 
      #+END_SRC
*** Tomcat
**** 导入Web项目，Tomcat 无法添加部署问题 - Tomcat version X.0 only supports J2EE 1.2, 1.3, 1.4, and Java EE X...
    其主要原因为当前 Tomcat 版本与该 Web 项目的Web版本不兼容，Tomcat 6支持 Web 2.5及以下版本，tomcat 7支持 Web 3.0及以下版本
    在 Eclipse 中：Project -> Properties -> Project Facets -> Dynamic Web Module，检查 Web 项目的Web版本
    1.Eclipse 环境下的修改方法为：项目根目录找到 .setting 文件夹中的 org.eclipse.wst.common.project.facet.core.xml 文件，修改其中 jst.web 的 version 的值至当前 Tomcat 支持的版本
    2.更新 Tomcat 版本，使其与 Web 版本兼容

** Emacs

** Git
*** Git 基本操作
    #+BEGIN_SRC 
    - 初始化
      $ git init
    - clone别人的库
      $ git clone ssh://user@domain.com/repo.git
    - 查看库的状态
      $ git status
    - 查看工作区与暂存区文件的修改
      $ git diff
    - 添加文件到暂存区
      $ git add .
    - 提交文件到本地库
      $ git commit
    - 提交历史纪录
      $ git log
    - 查看库的分支
      $ git branch
    - 切换分支
      $ git checkout <branch>
    - 将本地库推送至远程库中
      $ git push <remote> <branch>
    - 将指定分支合并至当前分支
      $ git merge <branch>
    #+END_SRC
*** 更新.gitignore后，清理Git仓库
    #+BEGIN_SRC 
    - 清理暂存区的文件
      $ git rm -r --cached .
    - 添加所有文件
      $ git add .
    - 提交
      $ git commit -m ".gitignore is now working"
    #+END_SRC
*** 修改Git别名
    1. 修改.gitconfig文件中[alias]属性
       例如 st = status 
    2. 使用 git config --global alias.[alias-name] [operation-name]
       例如 git config --global alias.st status 表示将st作为status的别名，可以直接使用 git st 命令。
*** Git推送代码
    #+BEGIN_SRC 
    - 首次推送，添加远程代码库至配置
      $ git remote add tip https://github.com/Saisimon/tip.git
    - 推送代码至远程代码库
      $ git push tip master
    - 输入账号密码进行确认
    #+END_SRC